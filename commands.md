
-d fileПроверяет, существует ли файл, и является ли он директорией.
-e fileПроверяет, существует ли файл.
-f file Проверяет, существует ли файл, и является ли он файлом.
-r fileПроверяет, существует ли файл, и доступен ли он для чтения.
-s file Проверяет, существует ли файл, и не является ли он пустым.
-w fileПроверяет, существует ли файл, и доступен ли он для записи.
-x fileПроверяет, существует ли файл, и является ли он исполняемым.
file1 -nt file2 Проверяет, новее ли file1, чем file2.
file1 -ot file2Проверяет, старше ли file1, чем file2.
-O file Проверяет, существует ли файл, и является ли его владельцем текущий пользователь.
-G fileПроверяет, существует ли файл, и соответствует ли его идентификатор группы идентификатору группы текущего пользователя.

===========================================
find /home -name *.txt

find . -type f -iname "*.txt"

f - тип файлы
d - тип директория
iname - регистр не важен

find . -type f  -perm  0664 - поиск по правам

find . -size +1M   -  поиск файлов больше 1 МВ


find . -type f -not -iname "*.txt" - поиск файлов кроме "*.txt"

===================================

cut -d ">" -f 3 filename.txt | sort

разделитель -d ">" , 3 поле в строке и сортируем
выводим определенное поле из текста
====================================================

wc 
считает кол-во строк, слов и симоволов (байт)
==============================================

sort -n numbers.txt 

=============================================

grep whatFind ./*

ищет текст в файлах

grep -E "[A-Za-z\.]*@[A-Za-z]*.*" filename.txt


grep "print" main.py  -  поиск в текущей директории в файле main.py

grep -n -i "print" main.py 

-n - выводит номер строки, где было найдено слово
-i - не зависит от регистра


find . -type f -iname "*.txt" -exec grep -i -n "ma*" {} +

-exec grep -i -n "ma*" {} +     - команда выполняется после выполнения команды слева

============================================

 перенаправление плохих результатов
2> - новый файл, перезаписать старый
2>> - добавить в новый файл или старый
&> - и хороший и плохой результат

/dev/null можно перенаправлять ненужное

=============================================
top процессы, загрузка
free -h свободная память

ps -aux | grep bash
запущенные процессы

================================

/var/log - логи

=========================================

su сменить пользователя

su - jenkins

==============================================

/etc/passwd - аккаунты

/etc/shadow - пароли аккаунтов

/etc/group - группы

=============================================

whoami - имя текущего пользователя

id - к каким группам принадлежит пол-ль

who - кто подключен к системе

w- кто в системе и что делает

last - последние логины

====================================================

создаем пользователя

sudo useradd -m maxim

Пароль

sudo passwd maxim

/etc/skel/ - "скелет" домашней директории пользователя, содержимое директории user

удалить user

sudo userdel -r nameuser

sudo groupadd nameGroup - Добавить группу
sudo groupdel nameGroup - удалить группу

/etc/group/ посмотреть все группы

Добавить user в группу

sudo usermod -aG nameGroup nameUser

sudo usermod -aG sudo nameUser - добавить в sudo группу

Удалить user из группы
sudo deluser nameUser nameGroup

=================================================================

chwon - изменить владельца файла/директории

chgrp - изменить группу файла/директории

chmod - изменить права доступа на файл/диреторию

chmod ugo+x nameFile - добавить всем права исполнения

chmod o-x nameFile - забрать права у о

=========================================================

tar cf folder.tar test

создаем архив folder.tar из папки test (архивируем папку)

tar tf folder.tar - просмотр архива

tar xf folder.tar  -  разархивация папки

xvf - v - момент разархивации будет показан пользователю

xz folder.tar - сжатие архива .tar, компрессия

unxz folder.tar.xz  - раскомпрессия

gzip folder.tar - сжатие архива .tar, другая компрессия, более эффективная

gunzip folder.tar.gz  - раскомпрессия

bzip2 folder.tar - сжатие архива .tar, другая компрессия, самая эффективная

bunzip2 folder.tar.bz2 - раскомпрессия


===========================================================

zip -r folder.zip folderTargetName  - архивация

unzip folder.zip - разархивация
======================================================

Сеть

ping www.google.com  - проверка связи до хоста  ( -с 10    - раз)

host www.google.com - проверяем ip адреса доменного имени

netstat - просмотр соединений открытых на компе в данный момент

netstat | grep localhost

ifconfig  - иг=нформация настройки сети

ip addr show

ip a - ip адрес

route

sudo ufw allow 22 - открываем порт 22

=================================================

wget url - скачиваем что-то по url

=====================================================

echo "Please enter your name"
read name

or

read -p "Please enter your name" name

=================================================

Работа с дисками

fdisk -l - показать диски

lsblk - удобный вид отображения дисков

cfdisk /dev/sdb - редактировать разделы sdb диска

mkfs.ntfs -f /dev/sdb1 - форматировать раздел в ntfs систему 

/etc/fstab - прописываем диски системы, добавляем

mount /media/hdd2 - присоединяем диск, прописанный в файле fstab с именем hdd2

========================================================

hostname - имя компьютера

/etc/hostname

/etc/hosts

ifconfig - сетевые настройки

/etc/network/interfaces

/etc/netplan/*.yaml

Определите все доступные сетевые интерфейсы используя команду ip или lshw:

sudo ip a
// Или
sudo lshw -class network

Отредактируйте файл конфигурации netplan который находится в директории /etc/netplan/:

sudo nano /etc/netplan/00-installer-config.yaml

addresses — ip адрес который будет назначен вашей сетевой карте.
gateway4 — ip адрес вашего роутера.
nameservers — DNS сервера. Первый - наш роутер.
search — домен в котором будет произведен поиск. Домен можно настроить при помощи DNS сервера
Мои настройки:

network:
 ethernets:
  enp0s3:
   addresses:
    - 192.168.0.105/24
   gateway4: 192.168.0.1
   nameservers:
    addresses: [192.168.0.1, 8.8.4.4]
   optional: true
 version: 2
 renderer: networkd

 Настройки беспроводной сети
Для корректной работы беспроводного интерфейса вам потребуется установить утилиту WPA supplicant, которая позволяет подключиться к точкам доступа с WPA. WPA и WPA2:

sudo apt install wpasupplicant
Добавьте новый файл конфигурации в каталог /etc/netplan/:

sudo vim /etc/netplan/01-config.yaml
Отредактируйте файл конфигурации беспроводной сети с динамическим ip-адресом (DHCP):

network:
 version: 2
 renderer: networkd
 wifis:
  wlp3s0:
   dhcp4: yes
   dhcp6: no
   access-points:
    "network_ssid_name":
    password: "**********"
Для беспроводной сети в которой используются статические ip-адреса подойдет следующая конфигурация:

network:
 version: 2
 renderer: networkd
 wifis:
  wlp3s0:
   dhcp4: no
   dhcp6: no
   addresses: [192.168.0.21/24]
   gateway4: 192.168.0.1
   nameservers:
    addresses: [192.168.0.1, 8.8.8.8]
   access-points:
    "network_ssid_name":
     password: "**********"

====================================================================

Использование netplan для генерации необходимой конфигурации:

sudo netplan generate
Для подробного вывода информации при генерации, используйте опцию --debug:

sudo netplan --debug generate
Применение конфигурации netplan:

sudo netplan apply
Для подробного вывода информации при применении, используйте опцию --debug:

sudo netplan --debug apply

=========================================================================












